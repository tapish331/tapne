# ============================================================
# tapne local environment (faithful-to-production baseline)
# ============================================================

# Runtime mode
APP_ENV=dev
APP_PORT=8000
PORT=8000
HOST=localhost
SCHEME=http
BASE_URL=http://localhost:8000

# Django core
DJANGO_SETTINGS_MODULE=tapne.settings
SECRET_KEY=__GENERATE_SECRET_KEY__
DEBUG=true
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1
CSRF_TRUSTED_ORIGINS=http://localhost:8000

# Production-proxy behavior (kept relaxed locally)
USE_X_FORWARDED_PROTO=false
SECURE_SSL_REDIRECT=false
SESSION_COOKIE_SECURE=false
CSRF_COOKIE_SECURE=false

# Database (Cloud SQL equivalent)
DB_NAME=tapne_db
DB_USER=tapne
DB_PASSWORD=tapne_password
DB_HOST=db
DB_PORT=5432
DB_HOST_PORT=5432
DATABASE_URL=postgresql://tapne:tapne_password@db:5432/tapne_db
DATABASE_URL_HOST=postgresql://tapne:tapne_password@localhost:5432/tapne_db

# Object storage (Cloud Storage equivalent)
STORAGE_BACKEND=minio
MINIO_BUCKET=tapne-local
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=__GENERATE_MINIO_PASSWORD__
MINIO_ENDPOINT=http://minio:9000
STORAGE_ENDPOINT=http://localhost:9000
# Browser-facing media URL base used when rendering uploaded file links.
MEDIA_PUBLIC_ENDPOINT=http://localhost:9000
AWS_ACCESS_KEY_ID=minioadmin
AWS_SECRET_ACCESS_KEY=__GENERATE_MINIO_PASSWORD__
AWS_S3_ENDPOINT_URL=http://minio:9000
AWS_STORAGE_BUCKET_NAME=tapne-local
AWS_S3_REGION_NAME=us-east-1
AWS_S3_ADDRESSING_STYLE=path
AWS_S3_SIGNATURE_VERSION=s3v4
AWS_S3_USE_SSL=false
AWS_QUERYSTRING_AUTH=false

# GCS production storage (used when STORAGE_BACKEND=gcs)
GCS_BUCKET_NAME=
GOOGLE_CLOUD_PROJECT=
GCS_CUSTOM_DOMAIN=
GCS_FILE_OVERWRITE=false
GCS_QUERYSTRING_AUTH=false

# Cache and queue (Memorystore equivalent)
REDIS_ENABLED=true
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://redis:6379/0
REDIS_URL_HOST=redis://localhost:6379/0
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/2

# Gunicorn and startup behavior
WEB_CONCURRENCY=2
GUNICORN_TIMEOUT=120
RUN_MIGRATIONS=true
COLLECTSTATIC_ON_BOOT=true
