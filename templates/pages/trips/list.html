{% extends "base.html" %}

{% block title %}tapne | Trips{% endblock %}

{% block content %}
<section class="hero hero-compact">
    <p class="eyebrow">Trips</p>
    <h1>Browse upcoming and hosted trips.</h1>
    {% if user.is_authenticated %}
    <p>Member mode supports full details, trip management, and My Trips segmentation.</p>
    {% else %}
    <p>Guests can browse limited details. Join, bookmark, and review actions require login.</p>
    {% endif %}
    {% if trip_reason %}
    <p class="detail-meta">{{ trip_reason }} ({{ trip_mode|default:"unknown" }} / {{ trip_source|default:"unknown" }})</p>
    {% endif %}

    {% if user.is_authenticated %}
    <div class="inline-actions">
        <a class="btn btn-primary" href="/trips/create/">Create trip</a>
        <a class="btn btn-secondary" href="/trips/mine/">My trips</a>
    </div>
    {% endif %}
</section>

<section class="section-grid">
    <header class="section-header">
        <h2>Available trips</h2>
    </header>
    <div class="card-grid">
        {% for trip in trips %}
        {% include "partials/cards/trip_card.html" with trip=trip %}
        {% empty %}
        <div class="empty-state">Trip list is empty. Run <code>python manage.py bootstrap_trips --create-missing-hosts --verbose</code> to seed demo data.</div>
        {% endfor %}
    </div>
</section>
{% endblock %}
